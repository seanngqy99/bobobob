<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Leg Extension Exercise</title>
  <link rel="stylesheet" href="../css/common/common.css">
  <link rel="stylesheet" href="../css/pages/workout.css">

  <!-- Mediapipe scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose/pose.js"></script>
</head>
<body>
  <header class="sticky-header">
    <nav>
        <div class="logo">RehabHero</div>
        <ul class="nav-links">
            <li><a href="../dashboard.html" class="active">Home</a></li>
            <li><a href="../exercise-library.html">Exercises</a></li>
            <li><a href="../profile.html">Profile</a></li>
            <li><a href="../teleconsultation.html">Teleconsultation</a></li>
            <li><a href="#" onclick="logout()">Logout</a></li>
        </ul>
        <div class="menu-toggle" onclick="toggleMenu()">&#9776;</div>
    </nav>
  </header>

  <div class="three-column-layout">
    <!-- Left column: user controls -->
    <div id="controls" class="left-column">
      <h2>Leg Extension Exercise</h2>
      <p>Strengthen your quadriceps by extending your leg from a seated position.</p>

      <!-- Leg selection -->
      <label><input type="radio" name="legSelect" value="left" checked> Left Leg</label>
      <label><input type="radio" name="legSelect" value="right"> Right Leg</label>
      <label><input type="radio" name="legSelect" value="both"> Both Legs</label>

      <!-- Start button -->
      <button id="startBtn">Start Exercise</button>

      <!-- Status / counters -->
      <p id="leftCountText"></p>
      <p id="rightCountText"></p>
      <p id="statusText">Waiting to start...</p>
    </div>

    <!-- Middle column: container with hidden video and the canvas -->
    <div class="container middle-column">
      <video class="input_video" playsinline></video>
      <canvas class="output_canvas"></canvas>
    </div>
    
    <!-- Right column: Rep progress visualization -->
    <div class="right-column">
      <div class="rep-progress-container">
        <div class="rep-progress-left">
          <h3>Left Leg Progress</h3>
          <div id="leftRepProgress" class="rep-progress">
            <!-- Rep progress bars will be dynamically added here -->
          </div>
        </div>
        
        <div class="rep-progress-right">
          <h3>Right Leg Progress</h3>
          <div id="rightRepProgress" class="rep-progress">
            <!-- Rep progress bars will be dynamically added here -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Custom JavaScript -->
  <script src="../js/legextension.js"></script>
</body>
</html>